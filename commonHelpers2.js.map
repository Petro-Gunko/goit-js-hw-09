{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', () => {\n    const form = document.querySelector('.feedback-form');\n    const emailInput = document.querySelector('input[name=\"email\"]');\n    const messageInput = document.querySelector('textarea[name=\"message\"]');\n    const storageKey = 'feedback-form-state';\n\n    // Ініціалізуємо поля форми відповідно до збереженого стану\n    const initializeForm = () => {\n        const storedState = JSON.parse(localStorage.getItem(storageKey));\n        if (storedState) {\n            emailInput.value = storedState.email || '';\n            messageInput.value = storedState.message || '';\n        }\n    };\n    initializeForm();\n\n    // Функція для валідації та збереження стану форми\n    const validateAndSaveForm = () => {\n        const currentState = {\n            email: emailInput.value.trim(),\n            message: messageInput.value.trim()\n        };\n        localStorage.setItem(storageKey, JSON.stringify(currentState));\n           \n    };\n\n    // Event listener для події input\n    form.addEventListener('input', event => {\n        validateAndSaveForm();\n    });\n\n    // Event listener для події submit\n    form.addEventListener('submit', event => {\n        event.preventDefault();\n       \n        if (emailInput.value.trim() === '' || messageInput.value.trim() === '') {\n            // Перевіряємо чи вже існує повідомлення про помилку, і якщо так, то не додавати нове.\n            if (!document.querySelector('.error-message')) {\n                const errorMessage = document.createElement('div');\n                errorMessage.textContent = 'Please fill in both email and message fields.';\n                errorMessage.style.color = 'red';\n                errorMessage.classList.add('error-message');\n                form.appendChild(errorMessage);\n            }\n        } else {\n            const currentState = JSON.parse(localStorage.getItem(storageKey));\n            if (currentState && currentState.email !== '' && currentState.message !== '') {\n                console.log(currentState);\n                form.reset();\n                localStorage.removeItem(storageKey);\n                document.querySelector('div').remove()\n            }\n        }  \n    });\n});\n\n\n\n"],"names":["form","emailInput","messageInput","storageKey","storedState","validateAndSaveForm","currentState","event","errorMessage"],"mappings":"oDACA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAe,SAAS,cAAc,0BAA0B,EAChEC,EAAa,uBAGI,IAAM,CACzB,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQD,CAAU,CAAC,EAC3DC,IACAH,EAAW,MAAQG,EAAY,OAAS,GACxCF,EAAa,MAAQE,EAAY,SAAW,GAExD,KAII,MAAMC,EAAsB,IAAM,CAC9B,MAAMC,EAAe,CACjB,MAAOL,EAAW,MAAM,KAAM,EAC9B,QAASC,EAAa,MAAM,KAAM,CAC9C,EACQ,aAAa,QAAQC,EAAY,KAAK,UAAUG,CAAY,CAAC,CAErE,EAGIN,EAAK,iBAAiB,QAASO,GAAS,CACpCF,GACR,CAAK,EAGDL,EAAK,iBAAiB,SAAUO,GAAS,CAGrC,GAFAA,EAAM,eAAc,EAEhBN,EAAW,MAAM,SAAW,IAAMC,EAAa,MAAM,KAAM,IAAK,IAEhE,GAAI,CAAC,SAAS,cAAc,gBAAgB,EAAG,CAC3C,MAAMM,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,YAAc,gDAC3BA,EAAa,MAAM,MAAQ,MAC3BA,EAAa,UAAU,IAAI,eAAe,EAC1CR,EAAK,YAAYQ,CAAY,CAChC,MACE,CACH,MAAMF,EAAe,KAAK,MAAM,aAAa,QAAQH,CAAU,CAAC,EAC5DG,GAAgBA,EAAa,QAAU,IAAMA,EAAa,UAAY,KACtE,QAAQ,IAAIA,CAAY,EACxBN,EAAK,MAAK,EACV,aAAa,WAAWG,CAAU,EAClC,SAAS,cAAc,KAAK,EAAE,OAAQ,EAE7C,CACT,CAAK,CACL,CAAC"}